# Django core
SECRET_KEY=replace-with-a-long-random-secret
DEBUG=False
ALLOWED_HOSTS=unabsences.example.com,www.unabsences.example.com
CSRF_TRUSTED_ORIGINS=https://unabsences.example.com,https://www.unabsences.example.com

# Reverse proxy / HTTPS
USE_X_FORWARDED_PROTO=True
USE_X_FORWARDED_HOST=False
# Trust only the reverse-proxy private IP(s), not full RFC1918 ranges.
TRUSTED_PROXY_CIDRS=172.30.0.10/32
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# Distributed cache / ratelimit (Redis)
REDIS_PASSWORD=change-me-redis-password
REDIS_URL=redis://:change-me-redis-password@redis:6379/1
REDIS_MAX_CONNECTIONS=100
REDIS_CACHE_TIMEOUT=300

# Rate limits
HEALTHCHECK_RATE_LIMIT=12/m
LOGIN_RATE_LIMIT_IP=20/5m
LOGIN_RATE_LIMIT_COMBINED=5/5m

# Healthcheck protection
HEALTHCHECK_TOKEN=replace-with-strong-healthcheck-token
# Optional rotation window (comma-separated previous token(s))
HEALTHCHECK_TOKEN_PREVIOUS=
# Allow only monitoring and localhost caller IPs for /api/health/
HEALTHCHECK_ALLOWLIST_CIDRS=127.0.0.1/32,::1/128,172.30.0.14/32

# Database
DB_NAME=gestion_absences_universite
DB_USER=postgres
DB_PASSWORD=change-me
DB_HOST=db
DB_PORT=5432
POSTGRES_PASSWORD=change-me
